# 策略E+ 智能化系统 - 前端原型

## 📋 项目概述

这是一个基于PRD需求文档创建的**智能风控策略分析平台**前端原型项目。该原型展示了系统的核心交互流程、界面设计和业务功能，用于向业务方和风控团队演示系统的整体规划。

## 🎯 核心特性

### 1. 四大智能模块

#### 🔷 数据与脚本助手 (Operation Agent)
- **Text-to-SQL**: 自然语言转换为SQL查询
- **智能预检**: 数据质量自动检测
- **沙箱机制**: 代码安全执行环境
- **可视化展示**: SQL代码和执行结果实时展示

#### 🔷 策略挖掘与分析助手 (Insight Agent)
- **特征寻优**: 自动计算IV值，推荐高区分度特征
- **智能分箱**: 支持多种分箱算法（卡方、决策树）
- **交互调整**: 拖拽式分箱切点调整
- **双变量交叉**: 自动挖掘特征组合

#### 🔷 报告生成与解释助手 (Reporting Agent)
- **规则白话化**: 将代码逻辑翻译成业务语言
- **自动回测**: 生成新旧策略对比报告
- **换手分析**: 分析策略调整带来的客群变化
- **多格式导出**: 支持Word/PDF/PPT导出

#### 🔷 知识库与合规助手 (Knowledge Agent)
- **智能问答**: 基于风控制度文档的问答系统
- **合规拦截**: 敏感字段使用自动预警
- **知识沉淀**: 历史策略和经验积累

#### 🔷 分析项目管理（V1.7新增）⭐
- **项目列表**: 统一管理所有历史分析项目
- **详情查看**: 完整展示分析结论、SQL脚本、数据快照
- **代码复用**: 一键复制/复用历史SQL脚本
- **报告导出**: 导出完整分析报告
- **进度追踪**: 追踪进行中的项目状态
- **知识沉淀**: 保存所有分析历史，团队协作共享

### 2. 创新交互设计

#### 混合交互模式（V1.6新增）⭐
- **样本条件选择器**: 可视化勾选筛选条件
- **自然语言对话**: 快速简单查询
- **智能转换**: 条件自动转换为SQL代码
- **灵活切换**: 根据场景选择最合适的交互方式
  - 复杂查询（≥3条件）→ 条件选择器（30秒完成）
  - 简单查询（≤3条件）→ 自然语言（10秒完成）

#### 左右分栏布局
- **左侧对话区**: 类似聊天软件的自然语言交互
- **右侧工作台**: 动态切换代码/图表/报告视图
- **实时联动**: 对话内容自动驱动工作台展示

#### 智能建议系统
- **快捷问题**: 根据选择的模块自动推荐相关问题
- **上下文感知**: 根据对话历史提供智能建议
- **渐进式引导**: 帮助新用户快速上手

#### 过程透明化
- **执行状态**: 实时显示AI思考和处理过程
- **任务拆解**: 将复杂需求拆解为可理解的步骤
- **结果解释**: 提供业务友好的分析结果说明

#### 双工作模式（V1.4新增）
- **自由模式**: 独立使用任意模块，灵活快速
- **工作流模式**: 按步骤引导（数据→挖掘→报告），确保完整
- **一键切换**: 顶部"工作流"按钮随时切换模式

## 🎨 设计风格

### 科技风主题
- **深色背景**: 专业的暗黑主题配色
- **渐变色彩**: 紫蓝渐变色系，体现科技感
- **流畅动画**: 丰富的过渡和悬停效果
- **现代图标**: 简洁的SVG图标系统

### 配色方案
```css
主色调：#667eea (紫色) → #764ba2 (深紫)
强调色：#00d4ff (青色)
成功色：#10b981 (绿色)
警告色：#f59e0b (橙色)
错误色：#ef4444 (红色)
```

## 📁 项目结构

```
风控策略平台规划/
├── index.html              # 主页面（门户）
├── workspace.html          # 核心工作台页面
├── projects.html           # 项目管理页面 ⭐ V1.7新增
├── assets/
│   ├── css/
│   │   ├── style.css      # 全局样式
│   │   └── projects.css   # 项目管理样式 ⭐ V1.7新增
│   └── js/
│       ├── main.js        # 主页脚本
│       ├── workspace.js   # 工作台脚本
│       └── projects.js    # 项目管理脚本 ⭐ V1.7新增
└── README.md              # 项目说明
```

## 🚀 使用说明

### 1. 启动项目

直接在浏览器中打开 `index.html` 文件即可，无需服务器环境。

```bash
# 方式1: 直接双击打开
index.html

# 方式2: 使用本地服务器（推荐）
# 如果安装了Python
python -m http.server 8000

# 如果安装了Node.js
npx http-server
```

然后在浏览器中访问：`http://localhost:8000`

### 2. 功能演示流程

#### 场景1：数据查询与分析（推荐：使用条件选择器）⭐
1. 点击"开始分析"或直接点击"数据与脚本助手"模块
2. **方式A：条件选择器（推荐复杂查询）**
   - 点击输入框左侧的 `📋` 按钮
   - 勾选多个筛选条件（如：年龄18-35、月收入5000-10000、无逾期等）
   - 点击"应用条件"按钮
   - 系统自动转换为自然语言并生成SQL
3. **方式B：自然语言（推荐简单查询）**
   - 在对话框中直接输入：`查询近30天内逾期超过7天的用户`
   - 系统自动理解并生成SQL
4. 系统将自动：
   - 生成SQL查询代码（右侧代码视图）
   - 沙箱预检（LIMIT 100测试）
   - 展示数据结果和质量报告
   - 生成可视化图表（柱状图）

#### 场景2：特征挖掘
1. 切换到"策略挖掘"模块
2. 输入：`帮我挖掘高风险客群，重点关注年龄、收入、借款金额的组合特征`
3. 系统将自动：
   - 计算所有特征的IV值
   - 推荐TOP5高区分度特征
   - 生成智能分箱图表
   - 给出策略规则建议

#### 场景3：报告生成
1. 切换到"报告生成"模块
2. 输入：`生成上周策略回测报告，对比新旧策略的通过率和坏账率`
3. 系统将自动：
   - 生成完整的回测报告
   - 展示核心指标对比表格
   - 提供策略规则白话翻译
   - 支持多格式导出

#### 场景4：合规检查
1. 切换到"知识库"模块
2. 输入：`查询民族字段是否可以作为拒绝规则使用`
3. 系统将自动：
   - 识别敏感字段查询
   - 显示合规警告
   - 提供相关制度文档链接
   - 给出合规建议

## 💡 技术特点

### 纯前端实现
- **零依赖后端**: 使用模拟数据演示完整交互
- **快速部署**: 无需配置环境，即开即用
- **易于修改**: 所有交互逻辑都在前端JS中

### 响应式设计
- 支持桌面端和移动端自适应
- 优化的触摸交互体验

### 性能优化
- CSS动画使用GPU加速
- 图表按需加载和销毁
- 滚动和输入防抖处理

## 🔧 技术栈

### 核心技术
- **HTML5**: 语义化标签，现代Web标准
- **CSS3**: Flexbox/Grid布局，动画效果
- **JavaScript (ES6+)**: 原生JS，无框架依赖

### 第三方库
- **Chart.js 3.9.1**: 数据可视化图表库
  - 用于绘制柱状图、折线图、分箱分析图等

## 📊 模拟数据说明

原型中使用的所有数据都是**模拟数据**，用于演示系统功能：

### 用户数据
- 总用户数：8,432人
- 年龄分布：18-50+岁
- 逾期率：4%-15%不等

### 特征数据
- 特征总数：156个
- IV值范围：0.1-0.5
- KS值范围：0.2-0.5

### 策略效果
- 通过率：68%-72%
- 坏账率：6%-8%
- KS值：0.32-0.38

## 🎯 PRD对应关系

| PRD功能模块 | 原型实现 | 页面位置 |
|------------|---------|---------|
| F1.1 自然语言转脚本 | ✅ 已实现 | 工作台-数据助手 |
| F1.2 智能数据预检 | ✅ 已实现 | 代码执行结果展示 |
| F2.1 自动化特征寻优 | ✅ 已实现 | 工作台-策略挖掘 |
| F2.2 智能分箱 | ✅ 已实现 | 图表视图-分箱分析 |
| F3.1 策略规则白话化 | ✅ 已实现 | 报告视图 |
| F3.2 自动化回测报告 | ✅ 已实现 | 工作台-报告生成 |
| F4.1 制度智能问答 | ✅ 已实现 | 工作台-知识库 |
| F4.2 实时合规阻断 | ✅ 已实现 | 合规警告弹窗 |

## 🔮 后续开发建议

### 短期优化（1-2周）
1. **增强交互反馈**
   - 添加更多加载动画
   - 完善错误提示信息
   - 增加操作撤销功能

2. **丰富演示场景**
   - 添加更多预设问题
   - 增加失败场景演示
   - 补充边界情况处理

### 中期开发（1-2月）
1. **后端接口对接**
   - 设计RESTful API规范
   - 实现Text-to-SQL引擎
   - 对接数据库和大模型

2. **功能完善**
   - 实现真实的图表交互
   - 添加数据导出功能
   - 完善报告生成逻辑

### 长期规划（3-6月）
1. **系统集成**
   - 与现有E+系统打通
   - 接入企业SSO认证
   - 部署到生产环境

2. **智能化升级**
   - 训练领域专用模型
   - 优化提示词工程
   - 建立知识库系统

## 📝 更新日志

### V1.7 (2026-01-15) ⭐ 最新版本
- ✨ **新增分析项目管理页面** - 统一管理所有历史分析
- ✨ **项目详情查看** - 完整展示分析结论、SQL、数据快照
- ✨ **代码复用功能** - 一键复制/复用历史SQL脚本
- ✨ **项目操作** - 打开/导出/复制/删除项目
- ✨ **筛选和搜索** - 按状态、时间筛选，关键词搜索
- 📄 新增详细文档：`分析项目管理功能说明.md`

### V1.6 (2026-01-15)
- ✨ **新增样本条件选择器** - 可视化勾选筛选条件
- ✨ **混合交互模式** - 条件选择器 + 自然语言对话
- ✨ 智能条件转换 - 自动生成自然语言和SQL
- 📄 新增详细文档：`样本条件选择器使用说明.md`

### V1.5 (2026-01-14)
- ✨ 完整实现沙箱机制（PRD F1.2）
- ✨ 智能数据预检（语法、权限、质量）
- ✨ 全量数据执行功能
- ✨ 数据质量报告生成

### V1.4 (2026-01-14)
- ✨ 双工作模式系统（自由模式 + 工作流模式）
- ✨ 工作流模式切换按钮
- ✨ 步骤编号和完成标记
- 📄 新增文档：`工作模式说明.md`

### V1.3 (2026-01-14)
- ✨ 新增3种报告模板（年轻用户、多头借贷、低收入客群）
- ✨ 报告内容全面升级（执行摘要、换手分析、效果评估等）
- ✨ 智能报告匹配（根据关键词自动选择模板）
- 📄 新增文档：`报告功能说明.md`

### V1.2 (2026-01-14)
- 🐛 修复右侧工作台"代码"Tab滚动问题
- 🐛 修复数据表格超长无法查看问题
- 📄 新增文档：`滚动问题快速测试指南.md`

### V1.1 (2026-01-14)
- 🐛 修复聊天消息无法滚动问题
- 🐛 修复新消息无法自动滚动到底部问题
- 📄 新增文档：`修复说明.md`

### V1.0 (2026-01-14)
- ✨ 首次发布
- ✨ 实现四大智能模块原型
- ✨ 完成主页和工作台页面
- ✨ 添加交互式对话和图表展示
- ✨ 科技风界面设计

## 📞 联系方式

- **项目负责人**: 风控策略部 × 平台开发部
- **文档版本**: V1.7
- **最后更新**: 2026-01-15

---

## 🎉 快速体验

现在就打开 `index.html` 文件，开始体验智能风控策略分析平台吧！

### 推荐演示路径
1. 浏览主页，了解四大模块
2. 点击"开始分析"进入工作台
3. **⭐ 使用样本条件选择器（V1.6新增）**
   - 点击输入框左侧的 `📋` 按钮
   - 勾选7个条件（年龄、收入、逾期等）
   - 点击"应用条件"查看智能转换
4. 查看沙箱预检结果（代码Tab页）
5. 切换到"策略挖掘"查看特征分析
6. 生成一份策略回测报告
7. **⭐ 在项目管理页查看历史分析（V1.7新增）**
   - 点击顶部导航"项目管理"
   - 查看所有历史分析项目
   - 打开项目查看完整详情
   - 复用SQL脚本到工作台
8. 测试合规检查功能

---

**注意**: 本项目为演示原型，所有数据均为模拟数据，实际生产环境需要对接真实数据源和AI服务。
